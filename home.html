<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cat√°logo de Joias</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Cabe√ßalho -->
  <header>
    <h1>Cat√°logo de Joias</h1>
    <nav>
      <!-- Bot√µes de filtro por categoria -->
      <button class="filter-btn" data-category="todos">Todos</button>
      <button class="filter-btn" data-category="anel">An√©is</button>
      <button class="filter-btn" data-category="cordao">Cord√µes</button>
      <button class="filter-btn" data-category="pulseira">Pulseiras</button>
      <button class="filter-btn" data-category="brinco">Brinco</button>
      <button class="menu-btn" id="cartButton">
        üõí Carrinho <span id="cart-count">0</span>
      </button>
    </nav>
  </header>

  <!-- Lista de Produtos -->
  <main id="product-list">
    <!-- Produto 1 - Anel -->
    <div class="product-card" data-category="aneis">
      <img src="https://via.placeholder.com/150" alt="Anel de Ouro">
      <h2>Anel de Ouro</h2>
      <p>R$ 350,00</p>
      <button>Comprar</button>
    </div>

    <div class="product-card" data-category="aneis">
      <img src="https://via.placeholder.com/150" alt="Anel de prata">
      <h2>Anel de prata</h2>
      <p>R$ 350,00</p>
      <button>Comprar</button>
    </div>

    <div class="product-card" data-category="aneis">
      <img src="https://via.placeholder.com/150" alt="Anel de bronze">
      <h2>Anel de bronze</h2>
      <p>R$ 350,00</p>
      <button>Comprar</button>
    </div>

    <!-- Produto 2 - Cord√£o -->
    <div class="product-card" data-category="cordoes">
      <img src="https://via.placeholder.com/150" alt="Cord√£o de Prata">
      <h2>Cord√£o de Prata</h2>
      <p>R$ 220,00</p>
      <button>Comprar</button>
    </div>
    <div class="product-card" data-category="cordoes">
      <img src="https://via.placeholder.com/150" alt="Cord√£o de ouro">
      <h2>Cord√£o de Ouro</h2>
      <p>R$ 220,00</p>
      <button>Comprar</button>
    </div>
    <div class="product-card" data-category="cordoes">
      <img src="https://via.placeholder.com/150" alt="Cord√£o de bronze">
      <h2>Cord√£o de bronze</h2>
      <p>R$ 220,00</p>
      <button>Comprar</button>
    </div>

    <!-- Produto 3 - Pulseira -->
    <div class="product-card" data-category="pulseiras">
      <img src="https://via.placeholder.com/150" alt="Pulseira de A√ßo">
      <h2>Pulseira de A√ßo</h2>
      <p>R$ 180,00</p>
      <button>Comprar</button>
    </div>

    <div class="product-card" data-category="pulseiras">
      <img src="https://via.placeholder.com/150" alt="Pulseira de ouro">
      <h2>Pulseira de Ouro</h2>
      <p>R$ 180,00</p>
      <button>Comprar</button>
    </div>
  </main>

  <!-- Toast para feedback -->
  <div id="toast"></div>

  <!-- Firebase -->
  <script type="module" src="./firebase.js"></script>

  <!-- Script do carrinho -->
  <script>
    // Atualiza contador do carrinho
    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      document.getElementById("cart-count").textContent = cart.length;
    }

    // Mostra toast de feedback
    function showToast(message) {
      const toast = document.getElementById("toast");
      toast.textContent = message;
      toast.className = "show";
      setTimeout(() => { toast.className = toast.className.replace("show", ""); }, 3000);
    }

    // Adiciona produto ao carrinho
    function addToCart(product) {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      cart.push(product);
      localStorage.setItem("cart", JSON.stringify(cart));

      updateCartCount();
      showToast("Produto adicionado ao carrinho ‚úÖ");
    }

    // Quando clicar em "Comprar"
    document.querySelectorAll(".product-card button").forEach((btn) => {
      btn.addEventListener("click", (e) => {
        const card = e.target.closest(".product-card");
        const product = {
          nome: card.querySelector("h2").textContent,
          preco: card.querySelector("p").textContent,
          img: card.querySelector("img").src,
        };
        addToCart(product);
      });
    });

    // Inicializa contador ao carregar p√°gina
    document.addEventListener("DOMContentLoaded", updateCartCount);

    // A√ß√£o do bot√£o carrinho
    document.getElementById("cartButton").addEventListener("click", () => {
      window.location.href = "cart.html";
    });
  </script>
</body>
</html>
